# Issue Batcher

## Overview
This feature is designed to generate a series of actionable GitHub issues by leveraging the OpenAI Chat Completions API. Instead of composing a single issue, the Issue Batcher will receive an aggregated prompt containing multiple task ideas or improvement points, and then automatically split and format them into individual, detailed issue drafts.

## Objectives
- **Batch Issue Generation:** Accept a multi-item prompt and generate a list of GitHub issues, each with its own title, description, and potential action items.
- **Enhanced Input Parsing:** Provide robust input validation to ensure the supplied prompt contains a recognizable list or separators (e.g., bullet points, numbered list).
- **Seamless Integration:** Interface with existing features such as ISSUE_CREATOR and ISSUE_COMPOSER to complete the workflow from issue generation to creation and review.
- **Error Handling:** Log and handle errors that may occur in the splitting and processing stages, ensuring that partial outputs are safely reported and retried.

## Implementation Strategy
1. **Prompt Analysis and Splitting:**
   - Parse the multi-item prompt using defined delimiters. This can include bullet points, numbers, or custom separators.
   - Validate that each extracted item is a non-empty string and meets minimum task description requirements.

2. **LLM API Invocation:**
   - For each parsed item, construct an individual prompt and call the Chat Completions API to generate a structured response containing an issue title and body.
   - Use a function schema similar to the existing LLM delegation to ensure consistency in output formatting.

3. **Aggregation and Output:**
   - Collect and format the API responses into a batch of issues. Provide an option for manual review before forwarding these issues to the ISSUE_CREATOR workflow.
   - In situations of API failure or malformed responses, implement fallback mechanisms that log the details and include partial results where applicable.

4. **Testing and Validation:**
   - Develop unit tests to cover prompt parsing (e.g., handling of different delimiters), proper API invocation, and error scenarios.
   - Integrate tests to ensure that the batch generation process reliably converts a unified prompt into multiple well-formed issue drafts.

## Acceptance Criteria
- The Issue Batcher successfully splits a composite prompt into multiple distinct task items.
- Each issue generated by the Chat Completions API adheres to a validated function schema (title and description) and is ready for creation.
- Errors in parsing or API responses are logged with detailed information, and the system can report partially completed batches.
- The feature integrates seamlessly with the repositoryâ€™s existing autonomous workflow for issue handling, leveraging mechanisms from ISSUE_CREATOR and ISSUE_COMPOSER.
- Comprehensive unit and integration tests are provided to cover all edge cases, ensuring robustness and stability.